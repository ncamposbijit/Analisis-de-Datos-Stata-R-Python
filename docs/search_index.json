[["index.html", "Using R for data analysis 1 Introducción", " Using R for data analysis Nicolás Campos Bijit 2026-01-13 1 Introducción These notes are designed for those who want to learn data analysis tools in R. They are structured as lecture-style class notes, which means they follow a sequential progression across sessions. Over time, these class notes have evolved—and they will continue to do so. They have been enriched thanks to contributions from several people. I am especially grateful to Camila Vivanco, Diego Menares, Catalina Buzio, Felix Ordoñez and Benjamín Pinto for their contributions. In addition, these notes are based on a variety of publicly available materials. Throughout the notes, I provide the corresponding bibliographic references and share free resources for readers who want to deepen or consolidate their knowledge. In many cases, examples have been adapted from these additional sources. I always make an effort to cite sources appropriately, with the goal of respecting original authorship and providing readers with access to valuable references. Please let me know if you find any errors. These notes have also been updated and adapted for the course ECON 326: Introduction to Econometrics II, an undergraduate course at the University of British Columbia (UBC), 2026. For suggestions, questions, or recommendations, feel free to contact me at ncamposbijit@gmail.com. "],["data-analysis-with-r.html", "2 Data Analysis with R ", " 2 Data Analysis with R "],["introduction-to-r-and-rstudio.html", "2.1 Introduction to R and RStudio", " 2.1 Introduction to R and RStudio 2.1.1 Why use R as a programming language? Open source: The license is free. Versatile: statistical and econometric analysis + useful programming tasks (e.g., web scraping). Flexible and reproducible: ensures reproducibility, is flexible to changes and error detection. In demand: Open-source programming languages are increasingly requested in the labor market. 2.1.2 Key and recurring terms throughout the course RStudio: Graphical User Interface. It is designed to make using R easier. Objects: Anything you store in R. For example: datasets, variables, lists of names, plots. Functions: An operation produced by code that accepts inputs and returns outputs. Packages: A set of functions grouped according to their purpose. Scripts/Code: Document that contains all commands used in a data analysis process. 2.1.3 Learning Resources Cheat sheets: material available with a summary of the main commands/packages/functions for different topics. Available at: https://www.rstudio.com/resources/cheatsheets/ Forums and websites: Stackoverflow Medium The RStudio Blog Books: R for Data Science Resources about R in Spanish. Bookdown 2.1.4 RStudio Interface 2.1.4.1 Four sections in RStudio The fundamental ones are: Scripts, Console, Environment/Files/Help. Scripts: Where we will develop the code. It is a notebook. Console: Where we will see the results. Environment: Where we will see the data and the information we are generating. Files: Where we will see the files associated with our projects. Help: Where we will develop the code. It is a notebook. To customize RStudio go to: Tools -&gt; Global Options. There you can change the environment color, font type, layout order. The idea is to use RStudio in the most intuitive way possible. 2.1.4.2 Writing comments It is very important to write comments throughout your code. It is also important to know how to write good comments. A very good guide that discusses this and many other things is: Code and Data for the Social Sciences: A Practitioner’s Guide. (#) to write comments in the script. If I want to mark multiple lines as comments: ctrl + shift + c 2.1.4.3 Indices It is important to write indices to document your code. To see it I must type: ctrl + shift + o Titles can be hierarchical: # The most important ## This is a bit less important ### This is a bit less important than the previous one #### The least important It is important to update it constantly to avoid losing functionality. 2.1.5 Package installation and help Packages are basically collections of functions. Packages are installed once, but they are called every time they are used. 2.1.5.1 Libraries This can be done in two ways: From the Packages tab in the bottom-right corner. Using commands install.packages(&quot;dplyr&quot;) Many packages at the same time: install.packages(c(&quot;dplyr&quot;,&quot;ggplot2&quot;,&quot;rio&quot;)) Common error: install.packages(&quot;dplyr&quot;, &quot;ggplot2&quot;) In general, it is a good idea to install them at the beginning of your work, since we commonly use the same libraries when doing data analysis. With this function, we tell R to install the package if it is not installed (something typical when we switch computers): if(!require(dplyr)) {install.packages(&quot;dplyr&quot;)} Load libraries: library(dplyr) If we want to see what is inside each package: ls(&quot;package:dplyr&quot;, all = TRUE) #ls = list objects Important: the package must be installed once, but loaded every time it is used. There are often updates. To check and install them: update.packages() Alternatively, I can link a package to a function using ::. If I do this, it is not necessary to load the library in order to use that specific function. However, the recommended practice is to load all the libraries of the packages I will use at the beginning. 2.1.5.2 Help function About a specific function: help(mean) ?mean mean sd About a specific package: help(&quot;dplyr&quot;) library(help=&quot;dplyr&quot;) 2.1.5.3 Useful Shortcuts Esc: interrupt the current command Ctrl + s: save tab: autocomplete Ctrl + Enter: run line Ctrl + Shift + C: comment/uncomment &lt;-: Alt + - / option + - %&gt;%: Ctrl + Shift + M (pipe) Ctrl + l: clear console Ctrl + Alt + b: run everything up to here (the arrow keys in the console allow you to view the most recent commands used) Shift + lines: select multiple lines Ctrl + f: find/replace Ctrl + Up Arrow (in the console): view previously used commands 2.1.5.4 Clear the R environment Remove all objects: rm(list=ls()) Remove only one object rm(data1) If I want to clear the console, I need to press Ctrl + L. 2.1.5.5 Identify the package of a function Sometimes we want to know which package a given function belongs to. For that, check: https://sebastiansauer.github.io/finds_funs/ ` 2.1.5.6 Error común Por ejemplo: x &lt;- &quot;hola&quot; Noten que en la consola aparece un signo +. En estos casos RStudio se detiene porque probablemente se les olvido un ) o bien un #. En estos casos hay que corregir el error para ejecutar nuevamente y luego apretar esc en la consola para seguir ejecutando los comandos. 2.1.6 Manipulación de objetos 2.1.6.1 Usar R como calculadora/ejecutar comandos De manera separada (seleccionar las ordenes+ctrl+Enter): 2+2 ## [1] 4 3*5^(1/2) ## [1] 6.708204 Ejecutar todas las instrucciones: 2+2 ; 3*5^(1/2) ## [1] 4 ## [1] 6.708204 3+4 ## [1] 7 5*4 ## [1] 20 8/4 ## [1] 2 6^7 ## [1] 279936 6^77 ## [1] 8.272681e+59 log(10) ## [1] 2.302585 log(1) ## [1] 0 sqrt(91) # raiz cuadrada ## [1] 9.539392 round(7.3) # redondear ## [1] 7 Incluso grandes operaciones: sqrt(91) + 4892788*673 - (log(4)*round(67893.9181, digits = 2)) ## [1] 3292752213 Incluso uso de números imaginarios: 2i+5i+sqrt(25i) ## [1] 3.53553+10.53553i 2.1.6.2 Creacion de objetos: asignaciones y funciones con el signo &lt;- asignamos valores. También se puede utilizar =, pero no es recomendable, ya que confunde. y &lt;- 2 + 4 y ## [1] 6 Las asignaciones son MUDAS. Si no las llamo, no aparecen en la consola. Lo anterior es una operación sencilla, pero lo que queremos es generar asignaciones con funciones. Podemos utilizar funciones. Las funciones son la parte central del uso de R. Algunas funciones vienen instaladas en R. Otras funciones hay que obtenerlas desde paquetes. También es posible escribir tus propias funciones (). Las funciones estan por lo general escritas en paréntesis, por ejemplo filter(). Hay ocasiones en que las funciones estan relacionadas con un paquete específico dplyr::filter(). Ejemplo 1: función simple sqrt(49) ## [1] 7 Ejemplo 2: sobre una base de datos summary(mtcars$mpg) ## Min. 1st Qu. Median Mean 3rd Qu. Max. ## 10.40 15.43 19.20 20.09 22.80 33.90 Nota: mtcars viene incluidad en R. Para ver mas: data() Otra función: x &lt;- 2 y &lt;- 3 z &lt;-c(x,y) z ## [1] 2 3 Uso de funciones aritméticas: mean(z) ## [1] 2.5 median(z) ## [1] 2.5 Relaciones entre objetos: w &lt;- mean(z) Creación de objetos por asignación: a &lt;- 3+10 b &lt;- 2*4 Comparar objetos: a &gt; b ## [1] TRUE Notar que las asignaciones son silenciosas: a ## [1] 13 b ## [1] 8 # o altenativamente utilizar print print(a) ## [1] 13 print(b) ## [1] 8 Creación de objetos usando funciones: valores &lt;- c(a,b) promedio &lt;- mean(valores) print(promedio) ## [1] 10.5 promedio ## [1] 10.5 Podemos escribir un promedio aquí usando función mean(): a &lt;- 2 b &lt;- 5 valores1 &lt;- c(a,b) promedio1 &lt;-mean(valores1) print(promedio1) ## [1] 3.5 Limpiamos datos nuevamente: rm(list = ls()) rm(promedio) 2.1.6.3 Creacion de objetos y asignaciones Es importante espaciar codigos. Definimos dos vectores utilizando la función c() educ &lt;- c(8,12,8,11,16,14,8,10,14,12) ingreso &lt;- c(325,415,360,380,670,545,350,420,680,465) Calculamos promedio, desviación estándar y correlación mean(ingreso) ## [1] 461 promedioingreso &lt;- mean(ingreso) sd(ingreso) ## [1] 129.1382 sdingreso &lt;- sd(ingreso) cor(educ, ingreso) ## [1] 0.9110521 coreduing &lt;- cor(educ,ingreso) Graficamos plot(educ, ingreso) Estimar una regresión lineal lm(ingreso ~ educ) ## ## Call: ## lm(formula = ingreso ~ educ) ## ## Coefficients: ## (Intercept) educ ## -8.71 41.57 Ejercicio 2.1.1: Nombrar objetos De los siguientes ejemplos, ¿Cuáles son nombres de variables válidas en R? # min_height # max.height # _age # .mass # MaxLength # Min-length # 2widths # Calsius2kelvin 2.1.7 Tipos de objetos 2.1.7.1 Vectores R opera componente por componente, por lo que es muy sencillo poder trabajar con vectores y matrices. Para crear un vector utilizamos la funcion c() x &lt;- c(1,2,3,4,5) #o bien y &lt;- c(6:8) Veamos los vectores z &lt;- x + y z ## [1] 7 9 11 10 12 Supongamos los siguientes vectores: x&lt;-c(1:4) y&lt;-c(1:3) ¿Cuál es su longitud? length(x) ## [1] 4 length(y) ## [1] 3 Si no tienen la misma longitud, ¿cual sería el resultado de x + y? z &lt;- x + y z ## [1] 2 4 6 5 IMPORTANTE: En este caso R realiza la operación de todos modos, pero nos indica que hay una advertencia de que sus dimensiones difieren. Lo relevante de los vectores es que sólo se puede concatenar elementos del mismo tipo, de lo contrario R nos arroja error. x &lt;- rep(1.5:9.5,4) #genera repeticiones de los valores definidos y &lt;- c(20:30) x1 &lt;- c(1,2) x2 &lt;- c(3,4) x3 &lt;- c(x1,x2) x4 &lt;- c(c(1,2), c(3,4)) Subconjunto de un vector y[3] # obtener el tercer elemento ## [1] 22 y[2:4] ## [1] 21 22 23 y[4:2] ## [1] 23 22 21 y[c(2,6)] ## [1] 21 25 y[c(2,16)] ## [1] 21 NA 2.1.7.2 Matrices 2.1.7.2.1 Definir matrices Sintaxis general mi.matriz &lt;- matrix(vector, ncol = num_columnas, nrow = num_filas, byrow = valor_logico, dimnames = list(vector_nombres_filas, vector_nombres_columnas) ) Para crear matrices utilizamos la función matrix() x &lt;- matrix (data = c(1,2,3,4), nrow = 2, ncol = 2) x1 &lt;- matrix(c(1,2,3,4), 2, 2) No es necesario poner data=, pero por orden mental es mejor hacerlo. x ## [,1] [,2] ## [1,] 1 3 ## [2,] 2 4 x1 ## [,1] [,2] ## [1,] 1 3 ## [2,] 2 4 Notar que por DEFECTO rellena columna por columna. Podemos explicitar que queremos realizar la matriz fila por fila y &lt;- matrix(data = c(1:4), nrow = 3, ncol = 2, byrow = TRUE) y ## [,1] [,2] ## [1,] 1 2 ## [2,] 3 4 ## [3,] 1 2 Podemos saber cual es la dimensión de x dim(y) ## [1] 3 2 dim(y)[1] # cantidad de filas ## [1] 3 dim(y)[2] # cantidad de columnas ## [1] 2 y&lt;- matrix(c(1,2,3,4), nrow=2, ncol=2, byrow=2) y ## [,1] [,2] ## [1,] 1 2 ## [2,] 3 4 Los va a repetir! y &lt;- matrix(c(1,2,3,4), nrow=2, ncol=3, byrow= 2) y ## [,1] [,2] [,3] ## [1,] 1 2 3 ## [2,] 4 1 2 Notar que el orden en cualquier matrix es filas x columnas. Podemos también omitir la cantidad de filas o columnas en la matriz y obtenemos el mismo resultado y &lt;- matrix(c(1:4), 2, byrow=T) y ## [,1] [,2] ## [1,] 1 2 ## [2,] 3 4 En el caso de crear matrices vacías hay que definir las dimensiones y &lt;- matrix(nrow=3, ncol=3) y #útil para los loops ## [,1] [,2] [,3] ## [1,] NA NA NA ## [2,] NA NA NA ## [3,] NA NA NA Darle nombre a las filas y columnas y &lt;- matrix (c(1:4), 2, byrow = FALSE, dimnames=list(c(&quot;X1&quot;,&quot;X2&quot;),c(&quot;Y1&quot;, &quot;Y2&quot;))) y ## Y1 Y2 ## X1 1 3 ## X2 2 4 Se puede realizar desde las funciones colnames y rownames colnames(x) &lt;- c(&quot;Variable 1&quot;, &quot;Variable 2&quot;) rownames(x) &lt;- c(&quot;a1&quot;, &quot;a2&quot;) x ## Variable 1 Variable 2 ## a1 1 3 ## a2 2 4 Añadir filas o columnas a una matriz w &lt;- c(5,6) 2.1.7.2.2 Unir matrices Unir mediante filas (queda con el nombre del vector la observación) z &lt;- rbind(x,w) z ## Variable 1 Variable 2 ## a1 1 3 ## a2 2 4 ## w 5 6 Unir mediante columnas z &lt;- cbind(x,w) z ## Variable 1 Variable 2 w ## a1 1 3 5 ## a2 2 4 6 ¿Y si tienen diferente cantidad de filas y/o columnas? repite el vector o observaci?n con menor longitud x &lt;- matrix(c(1:9),3) x ## [,1] [,2] [,3] ## [1,] 1 4 7 ## [2,] 2 5 8 ## [3,] 3 6 9 y &lt;- c(5,6) y ## [1] 5 6 z&lt;-rbind(x,y) z ## [,1] [,2] [,3] ## 1 4 7 ## 2 5 8 ## 3 6 9 ## y 5 6 5 Podemos pasar un vector a una matriz x&lt;-1:10 x ## [1] 1 2 3 4 5 6 7 8 9 10 dim(x)&lt;-c(2,5) x ## [,1] [,2] [,3] [,4] [,5] ## [1,] 1 3 5 7 9 ## [2,] 2 4 6 8 10 Trasponer matrices: x &lt;- matrix(c(1:9),3) xtraspuesta &lt;- t(x) Potencialmente se pueden hacer muchas más operaciones que involucren matrices. Por ejemplo, subconjuntos de una matriz: segundo y cuarto elemento de la segunda fila: M &lt;- matrix(1:8, nrow=2) M ## [,1] [,2] [,3] [,4] ## [1,] 1 3 5 7 ## [2,] 2 4 6 8 M[1,1] ## [1] 1 M[1,] ## [1] 1 3 5 7 M[,2] ## [1] 3 4 M[2,c(2,4)] ## [1] 4 8 "],["herramientas-de-programación.html", "2.2 Herramientas de programación", " 2.2 Herramientas de programación 2.2.1 Objetos adicionales 2.2.1.1 Arreglos Crear arreglos: La única diferencia con matrices es que acepta mas de dos dimensiones. Para generarlos: mi.arreglo &lt;-array(vector, dimensiones, dimnames = etiquetas_dim) Para nombrarlos definimos etiquetas y luego las agregamos. Es mucho mejor y mas ordenado hacerlo así: dim1 &lt;- c(&quot;A1&quot;, &quot;A2&quot;) dim2 &lt;- c(&quot;B1&quot;, &quot;B2&quot;, &quot;B3&quot;, &quot;B4&quot;) dim3 &lt;- c(&quot;C1&quot;, &quot;C2&quot;, &quot;C3&quot;) Ejemplo de arreglo: Defino un arreglo de 3 matrices de 2 (filas) x 4 (columnas) x &lt;- array(1:24, c(2,4,3), dimnames = list(dim1, dim2, dim3)) x ## , , C1 ## ## B1 B2 B3 B4 ## A1 1 3 5 7 ## A2 2 4 6 8 ## ## , , C2 ## ## B1 B2 B3 B4 ## A1 9 11 13 15 ## A2 10 12 14 16 ## ## , , C3 ## ## B1 B2 B3 B4 ## A1 17 19 21 23 ## A2 18 20 22 24 Notar la tercera dimensión! Subconjuntos de un arreglo: x[Fila,Columna, Matriz] x[1,2,3] # 1 fila, 2da columna, 3ra matriz ## [1] 19 x[,,3] # 3era matriz completa ## B1 B2 B3 B4 ## A1 17 19 21 23 ## A2 18 20 22 24 x[,4,] # 4ta columna de todas las matrices ## C1 C2 C3 ## A1 7 15 23 ## A2 8 16 24 x[,-1,2] # Todas las filas, sin la primera columna, de la matriz 2. ## B2 B3 B4 ## A1 11 13 15 ## A2 12 14 16 x[-1,c(1,2),3] # Todas las columnas, sin la fila 1, de la matriz 3. ## B1 B2 ## 18 20 x[-1,1:2,3] # Columnas 1 y 2, sin la fila 1, de la matriz 3. ## B1 B2 ## 18 20 x[,,1]*2 ## B1 B2 B3 B4 ## A1 2 6 10 14 ## A2 4 8 12 16 2.2.1.2 Listas Las listas contienen elementos de diferente tipo: matrices, objetos, dataframes, vectores, etc. x &lt;- list(c(1:8), &quot;R&quot;, TRUE, 2+3i, 5L) x #separa todo componente ## [[1]] ## [1] 1 2 3 4 5 6 7 8 ## ## [[2]] ## [1] &quot;R&quot; ## ## [[3]] ## [1] TRUE ## ## [[4]] ## [1] 2+3i ## ## [[5]] ## [1] 5 Para acceder a un objeto dentro de la lista se debe utilizar DOBLE CORCHETE: x[[5]] ## [1] 5 x[5] ## [[1]] ## [1] 5 Veamos un ejemplo de cómo trabaja: x &lt;- list(Titulacion = c(&quot;Economia&quot;, &quot;Administracion&quot;, &quot;Politica&quot;), Edad =c(25,23,27)) x ## $Titulacion ## [1] &quot;Economia&quot; &quot;Administracion&quot; &quot;Politica&quot; ## ## $Edad ## [1] 25 23 27 Al nombrar los componentes dentro de la lista, podemos llamarlos sin necesidad de los corchetes: x$Titulacion ## [1] &quot;Economia&quot; &quot;Administracion&quot; &quot;Politica&quot; x[[1]] ## [1] &quot;Economia&quot; &quot;Administracion&quot; &quot;Politica&quot; x[[&quot;Titulacion&quot;]] ## [1] &quot;Economia&quot; &quot;Administracion&quot; &quot;Politica&quot; x$Edad ## [1] 25 23 27 x[[2]] ## [1] 25 23 27 Como los componentes dentro de las listas tienen definida una naturaleza, podemos hacer operaciones con ellas también: x[[&quot;Edad&quot;]]*3 ## [1] 75 69 81 x$Edad[c(1,3)]*3 ## [1] 75 81 Finalmente, tambien podemos crear listas vacias (útil para rellenar utilizando iteradores): x &lt;-vector(&quot;list&quot;, length = 10) Ejemplo de una lista: Definimos una lista milista &lt;- list( # Primer elemento sera un vector hospitales = c(&quot;Van Buren&quot;, &quot;Gustavo Fricke&quot;, &quot;Salvador&quot;), # Segundo elemento sera un dataframe direccion = data.frame( calle = c(&quot;San Ignacio&quot;, &quot;Av. Alvarez&quot;, &quot;Av. Salvador&quot;), ciudad = c(&quot;Valparaíso&quot;, &quot;Viña del Mar&quot;, &quot;Santiago&quot;) ) ) milista ## $hospitales ## [1] &quot;Van Buren&quot; &quot;Gustavo Fricke&quot; &quot;Salvador&quot; ## ## $direccion ## calle ciudad ## 1 San Ignacio Valparaíso ## 2 Av. Alvarez Viña del Mar ## 3 Av. Salvador Santiago Llamar a subconjuntos # Retorna el elemento de la lista milista$hospitales ## [1] &quot;Van Buren&quot; &quot;Gustavo Fricke&quot; &quot;Salvador&quot; milista[2] ## $direccion ## calle ciudad ## 1 San Ignacio Valparaíso ## 2 Av. Alvarez Viña del Mar ## 3 Av. Salvador Santiago # Retorna el elemento, pero sin nombre y como vector milista[[1]] ## [1] &quot;Van Buren&quot; &quot;Gustavo Fricke&quot; &quot;Salvador&quot; milista[[&quot;hospitales&quot;]] ## [1] &quot;Van Buren&quot; &quot;Gustavo Fricke&quot; &quot;Salvador&quot; # Elementos particulares milista[[1]][3] ## [1] &quot;Salvador&quot; milista[[2]][,1] ## [1] &quot;San Ignacio&quot; &quot;Av. Alvarez&quot; &quot;Av. Salvador&quot; milista[[2]][1,] ## calle ciudad ## 1 San Ignacio Valparaíso milista[[2]][1,2] ## [1] &quot;Valparaíso&quot; Notar que es importante saber el tipo de dato. 2.2.1.3 Dataframes Crear un dataframe: Es básicamente una matriz donde filas y columnas tienen significado. Contiene tanto valores numericos, carácteres, variables categóricas, etc. datos &lt;- data.frame(Titulacion = c(&quot;Economia&quot;, &quot;Administracion&quot;, &quot;Administracion&quot;), Edad =c(25,23,27), ocupacion = c(1,0,1)) datos ## Titulacion Edad ocupacion ## 1 Economia 25 1 ## 2 Administracion 23 0 ## 3 Administracion 27 1 Esto es lo mas cercano a una base de datos. Es uno de los objetos básicos que veremos muchas veces a lo largo del curso. Dimensiones de un dataframe: Para ver las dimensiones hay que utilizar nrow(), ncol() o bien dim(). nrow(datos) ## [1] 3 ncol(datos) ## [1] 3 dim(datos) ## [1] 3 3 Notar que nrow() y ncol() tambien sirven para matrices. Subconjuntos de un dataframe: Al igual que en las matrices, utilizamos [ ] para acceder a elementos dentro de la base. datos[1,1] ## [1] &quot;Economia&quot; datos[,1] ## [1] &quot;Economia&quot; &quot;Administracion&quot; &quot;Administracion&quot; datos[,-2] ## Titulacion ocupacion ## 1 Economia 1 ## 2 Administracion 0 ## 3 Administracion 1 datos[, c(1:2)] ## Titulacion Edad ## 1 Economia 25 ## 2 Administracion 23 ## 3 Administracion 27 datos[, c(&quot;Titulacion&quot;)] ## [1] &quot;Economia&quot; &quot;Administracion&quot; &quot;Administracion&quot; # Tambien puedo ocupar $ para llamar. datos$Titulacion ## [1] &quot;Economia&quot; &quot;Administracion&quot; &quot;Administracion&quot; # Ojo que esto lo puedo hacer con todo summary(datos[,2]) ## Min. 1st Qu. Median Mean 3rd Qu. Max. ## 23 24 25 25 26 27 summary(datos[,2])[3] ## Median ## 25 summary(datos[,2])[&quot;Max.&quot;] ## Max. ## 27 Tibbles: Una version mas moderna de dataframes. Es la misma idea: lista de vectores con nombres. Altura &lt;- c(168, 177, 177, 177, 178, 172, 165, 171, 178, 170) Peso &lt;- c(88, 72, 85, 95, 71, 69, 61, 61, 51, 75) M &lt;- cbind(Altura, Peso) Paquete para trabajar con bases de datos (más detalles en secciones 2.3 y 2.4) install.packages(&quot;tidyverse&quot;) ## The following package(s) will be installed: ## - tidyverse [2.0.0] ## These packages will be installed into &quot;~/Library/CloudStorage/Dropbox/Nicolas/Cursos/01 Libro - análisis de datos/renv/library/R-4.2/aarch64-apple-darwin20&quot;. ## ## ## # Installing packages -------------------------------------------------------- ## - Installing tidyverse ... OK [linked from cache] ## Successfully installed 1 package in 12 milliseconds. library(tibble) # Una libreria dentro de tidyverse. misdatos &lt;- as_tibble(M) misdatos ## # A tibble: 10 × 2 ## Altura Peso ## &lt;dbl&gt; &lt;dbl&gt; ## 1 168 88 ## 2 177 72 ## 3 177 85 ## 4 177 95 ## 5 178 71 ## 6 172 69 ## 7 165 61 ## 8 171 61 ## 9 178 51 ## 10 170 75 # Podemos ver los nombres o bien estadistica básica de cada variable. names(misdatos) ## [1] &quot;Altura&quot; &quot;Peso&quot; summary(misdatos) ## Altura Peso ## Min. :165.0 Min. :51.0 ## 1st Qu.:170.2 1st Qu.:63.0 ## Median :174.5 Median :71.5 ## Mean :173.3 Mean :72.8 ## 3rd Qu.:177.0 3rd Qu.:82.5 ## Max. :178.0 Max. :95.0 Agregar columnas a un dataframe: Podemos agregar variables a la base. Dos opciones: # Opción 1: utilizando $nombre_columna&lt;-vector datos$id &lt;- c(1:3) datos ## Titulacion Edad ocupacion id ## 1 Economia 25 1 1 ## 2 Administracion 23 0 2 ## 3 Administracion 27 1 3 # Opción 2: utilizando el cbind (al igual que con matrices) id2&lt;-c(1:3) datos1 &lt;- cbind(id2,datos) datos1 ## id2 Titulacion Edad ocupacion id ## 1 1 Economia 25 1 1 ## 2 2 Administracion 23 0 2 ## 3 3 Administracion 27 1 3 Attach: Notación muy inconveniente misdatos$Altura ## [1] 168 177 177 177 178 172 165 171 178 170 misdatos$Peso ## [1] 88 72 85 95 71 69 61 61 51 75 Para evitar escribir datos cada vez que quiera llamar a una variable voy a utilizar la funcion attach(): attach(datos) # para comenzar # Ahora puedo llamar a sus variables sin utilizar datos nueva &lt;- Edad * ocupacion nueva &lt;- datos$Edad * datos$ocupacion nueva ## [1] 25 0 27 detach(datos) # para terminar Esta es una forma mucho mas conveniente de trabajar con dataframes o tibble en R. Ejercicio 2.2.1: Crear un dataframe Cree su primera base de datos. Debe armar una tabla igual a la figura. Tiene 5 minutos. Respuesta: ejer &lt;- data.frame(Tipo_animal = c(&quot;Perro&quot;, &quot;Perro&quot;,&quot;Gato&quot;,&quot;Perro&quot;, &quot;Gato&quot;,&quot;Gato&quot;,&quot;Gato&quot;), Color =c(&quot;Café&quot;,&quot;Blanco&quot;,&quot;Negro&quot;,&quot;Manchas&quot;,&quot;Café&quot;,&quot;Tricolor&quot;,&quot;Negro&quot;), Peso = c(7,5,3,4,2,5,4), Pasea=c(&quot;Sí&quot;,&quot;Sí&quot;,&quot;Sí&quot;,&quot;No&quot;,&quot;No&quot;,&quot;No&quot;,&quot;Sí&quot;)) 2.2.2 Acceder a elementos de un objeto 2.2.2.1 Vectores Para acceder a los elementos de un objeto debemos utilizar los corchetes [ ] # Veamos en un vector x&lt;-c(&quot;T&quot;, &quot;FALSE&quot;, 1:9,1+2i,&quot;t&quot;, &quot;c&quot;,&quot;a&quot;,6) class(x) ## [1] &quot;character&quot; # Podemos llamar a un objeto de un vector x[1] ## [1] &quot;T&quot; x[3] ## [1] &quot;1&quot; De esta manera podemos extraerlo o utilizarlo en diferentes operaciones. Pero sólo debe ser entre observaciones numericas: x[1]+x[6] #de lo contrario R nos arroja un error y&lt;-c(1:6, 1+2i) y[3]+y[7] #O podemos visualizar a x, pero sin el primer objeto x[-1] #O eliminar el primer objeto x&lt;-x[-1] x1 &lt;- x[-1] 2.2.2.2 Matrices Si analizamos los objetos de una matriz: w&lt;-matrix(1:9,3) w ## [,1] [,2] [,3] ## [1,] 1 4 7 ## [2,] 2 5 8 ## [3,] 3 6 9 # Elemento [1,1] w[1,1] ## [1] 1 # Toda la primera columna w[,1] ## [1] 1 2 3 # Toda la segunda fila w[2,] ## [1] 2 5 8 # Dos columnas w[,1:2] # w[,-3] ## [,1] [,2] ## [1,] 1 4 ## [2,] 2 5 ## [3,] 3 6 # Todas las filas menos la primera w[-1,] ## [,1] [,2] [,3] ## [1,] 2 5 8 ## [2,] 3 6 9 2.2.2.3 Listas Si queremos llamar a un objeto dentro de una lista: z &lt;- list(c(1:8), &quot;R&quot;, T, 2+3i, 5L) z #separa todo componente ## [[1]] ## [1] 1 2 3 4 5 6 7 8 ## ## [[2]] ## [1] &quot;R&quot; ## ## [[3]] ## [1] TRUE ## ## [[4]] ## [1] 2+3i ## ## [[5]] ## [1] 5 Para acceder a un objeto dentro de la lista se debe utilizar doble corchete: z[[1]] ## [1] 1 2 3 4 5 6 7 8 #Y algo dentro de ese objeto z[[1]][5] ## [1] 5 #Tambien podemos analizar su clasificacion class(z[[1]]) #numerico ## [1] &quot;integer&quot; #Si es numerico, entonces tambien podemos hacer operaciones z[[1]][3]*z[[1]][5] ## [1] 15 2.2.3 Tipos de objetos y datos 2.2.3.1 Identificar tipos de objetos Veamos en un vector cualquiera x&lt;-c(&quot;T&quot;, FALSE, 1:9,1+2i,&quot;t&quot;, &quot;c&quot;,&quot;a&quot;,6) class(x) ## [1] &quot;character&quot; Como bien sabemos todo en R es un objeto. Para saber que tipo de objeto es puedo utilizar la función class(): class(datos) ## [1] &quot;data.frame&quot; class (x) ## [1] &quot;character&quot; Note que class() identifico que es un “data.frame” y una lista. También puedo ver los tipos de elementos dentro de un determinado objeto. Para datos, existen 5 tipos principales, llamados: carácteres: texto. Se escriben con comillas (ej: “3”, “swc”). numéricos: numeros reales (ej. 2, 15.5). enteros: numeros enteros (“L” le dice a R que guarde esto como un entero). logical: valores logicos (ej. TRUE, FALSE). complejos: 1 + 4i (Numero complejos). 2.2.3.2 Identificar tipos de datos # 1. Carácteres z&lt;-c(&quot;a&quot;,&quot;b&quot;) class(z) ## [1] &quot;character&quot; # 2. Números enteros w&lt;-c(1L,2L,3L) #la L es para obligar que sea entero class(w) ## [1] &quot;integer&quot; # 3. Numéricos w1 &lt;- c(1,2,3) class(w1) ## [1] &quot;numeric&quot; # Notar que la L lo obliga a ser entero ¿Qué ocurre si no coloco la L? # 4. Valores logicos v1 &lt;- c(TRUE, FALSE) class(v1) ## [1] &quot;logical&quot; # Notar que si estan entre comillas son caracteres, no logical!. v&lt;-c(&quot;TRUE&quot;, &quot;FALSE&quot;) class(v) ## [1] &quot;character&quot; # 5. Números complejos t&lt;-c(1+2i,1+3i) class(t) ## [1] &quot;complex&quot; Hay más clases: Date(fechas), Factor(variables categóricas), data.frame, tibble, list. 2.2.3.3 ¿Importan los tipos de los objetos? R intenta mantener dentro de un vector el tipo de objeto. Si es que tratamos de juntar distintos tipos de datos en un vector. Igualar a la clase. Por ejemplo, si intentamos generar un vector con texto y número/logical todo será texto: h &lt;- c(TRUE,&quot;a&quot;, TRUE, 2) h ## [1] &quot;TRUE&quot; &quot;a&quot; &quot;TRUE&quot; &quot;2&quot; class(h) ## [1] &quot;character&quot; Si intentamos juntar un “Logical” con un número todo será número: h1 &lt;- c(TRUE,2,3) h1 ## [1] 1 2 3 class(h1) ## [1] &quot;numeric&quot; Aquí carácter todo se va a caracter: x &lt;- c(&quot;T&quot;, &quot;FALSE&quot;, 1:3, 1+2i, &quot;t&quot;, &quot;c&quot;, &quot;a&quot;) class(x) ## [1] &quot;character&quot; y &lt;- c(1:4) class(y) ## [1] &quot;integer&quot; y &lt;- c(1,2,3,4) class(y) ## [1] &quot;numeric&quot; Si utilizo el operador : para crear vectores lo interpreta como un integer. 2.2.3.4 Forzar a R para que utilice un tipo de dato Forzar a R a llevar el vector solo a numérico: z &lt;- as.numeric(x) class(z) ## [1] &quot;numeric&quot; z ## [1] NA NA 1 2 3 NA NA NA NA as.numeric() fuerza al vector a solo tener números. Noten que remplaza los que no son numérico por NA. Forzar a R a llevar el vector solo a carácteres: z1 &lt;- as.character(y) class(z1) ## [1] &quot;character&quot; z1 ## [1] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; Noten que ahora se agregaron las dobles comillas. Forzar a R a llevar el vector sólo a carácter. x ## [1] &quot;T&quot; &quot;FALSE&quot; &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;1+2i&quot; &quot;t&quot; &quot;c&quot; &quot;a&quot; z2 &lt;- as.logical(x) class(z2) ## [1] &quot;logical&quot; z2 ## [1] TRUE FALSE NA NA NA NA NA NA NA Noten que “T” fue aceptado como TRUE! 2.2.3.5 ¿Cómo saber que tipo de datos tengo? # Puedo preguntar a R sobre el tipo. is.numeric(y) # Es numerico? ## [1] TRUE is.character(y) # Es caracter? ## [1] FALSE is.logical(y) # Es logico? ## [1] FALSE # La respuesta a esta pregunta va a ser un valor lógico class(is.numeric(y)) ## [1] &quot;logical&quot; # También se puede utilizar la opcion `typeof` typeof(y) ## [1] &quot;double&quot; 2.2.3.6 Mayúsculas importan Como vimos en lasección anterior, R es sensible a las mayúsculas. Esto aplica para nombres de funciones, paquetes, comando y también para los datos. Por ejemplo: x &lt;- c(&quot;A&quot;, &quot;a&quot;,&quot;a&quot;,&quot;a&quot;, &quot;B&quot;, &quot;B&quot;,&quot;b&quot;, &quot;A&quot;) length(x) ## [1] 8 sum(x == &#39;a&#39;) ## [1] 3 sum(x == &#39;b&#39;) ## [1] 1 Para R las minúsculas y mayúsculas SI IMPORTAN!. 2.2.3.7 Carácteres especiales Vimos que existen nombres de variables no validos en R. Tambien existe un conjunto de caracteres invalidos. NA: Not Available (missing values) NaN: Not a Numbers (ej. 0/0) Inf: Infinito (1/0) -Inf: Menos infinito 0/0 ## [1] NaN -1/0 ## [1] -Inf 2.2.3.8 Missing values En R, los valores perdidos (“missing values”) se representan con el valor especial NA (letras mayusculas N y A - sin comillas). Para saber si tengo valores NA en un objeto, puedo ocupar la funcion is.na(): ejemplo &lt;- c(1,3,NA,4) is.na(ejemplo) ## [1] FALSE FALSE TRUE FALSE ejemplo[!is.na(ejemplo)] ## [1] 1 3 4 # El resultado es un vector. Noten que es importante para utilizar algunas funciones: mean(ejemplo) ## [1] NA mean(ejemplo, na.rm = TRUE) ## [1] 2.666667 No funciona en el primer caso, si en el segundo. Veremos mas detalles sobre como tratar missing values (ej. recodificar) en las clases de manipulacion y analisis de datos. 2.2.3.9 Funciones útiles # Redondear round(c(2.53, 3.52), 1) ## [1] 2.5 3.5 # Estadística simple x &lt;- c(1,2,3,4,5,6) mean(x) # promedio ## [1] 3.5 median(x) # mediana ## [1] 3.5 sd(x) # desviacion estandar ## [1] 1.870829 sum(x) # suma del vector ## [1] 21 min(x) # Valor minimo ## [1] 1 max(x) # Valor maximo ## [1] 6 range(x) # rango ## [1] 1 6 summary(x) # resumen ## Min. 1st Qu. Median Mean 3rd Qu. Max. ## 1.00 2.25 3.50 3.50 4.75 6.00 # Notar que tienen que ser vectores! mean(10, 6, 12, 10, 5, 0) ## [1] 10 mean(c(10, 6, 12, 10, 5, 0)) ## [1] 7.166667 # En el primer caso sólo toma el primer valor! Ojo, siempre un vector. # Otras funciones seq(1,10,2 ) # Crear secuencias ## [1] 1 3 5 7 9 rep(c(1,2,3),10) # Repetir ## [1] 1 2 3 1 2 3 1 2 3 1 2 3 1 2 3 1 2 3 1 2 3 1 2 3 1 2 3 1 2 3 cut(x,2) # subdividir ## [1] (0.995,3.5] (0.995,3.5] (0.995,3.5] (3.5,6] (3.5,6] (3.5,6] ## Levels: (0.995,3.5] (3.5,6] sample(x, size = 3, replace = TRUE) # Generar un aleatorio ## [1] 5 5 5 # El analisis de datos es... Altura = c(168, 177, 177, 177, 178, 172, 165, 171, 178, 170) Peso = c(88, 72, 85, 95, 71, 69, 61, 61, 51, 75) M = cbind(Altura, Peso) # Paquete para trabajar con bases de datos (más detalles en secciones 2.3 y 2.4) install.packages(&quot;tidyverse&quot;) ## The following package(s) will be installed: ## - tidyverse [2.0.0] ## These packages will be installed into &quot;~/Library/CloudStorage/Dropbox/Nicolas/Cursos/01 Libro - análisis de datos/renv/library/R-4.2/aarch64-apple-darwin20&quot;. ## ## ## # Installing packages -------------------------------------------------------- ## - Installing tidyverse ... OK [linked from cache] ## Successfully installed 1 package in 12 milliseconds. library(tibble) # Una libreria dentro de tidyverse. misdatos &lt;- as_tibble(M) misdatos ## # A tibble: 10 × 2 ## Altura Peso ## &lt;dbl&gt; &lt;dbl&gt; ## 1 168 88 ## 2 177 72 ## 3 177 85 ## 4 177 95 ## 5 178 71 ## 6 172 69 ## 7 165 61 ## 8 171 61 ## 9 178 51 ## 10 170 75 attach(misdatos) ## The following objects are masked _by_ .GlobalEnv: ## ## Altura, Peso max(Altura) ## [1] 178 min(misdatos$Peso) ## [1] 51 detach(misdatos) 2.2.4 Herramientas en R 2.2.4.1 Escribir Códigos Algunos comentarios con respecto a la escritura de codigos: Siempre escribir comentarios autocontenidos. Siempre utilizar índice. Me permite reducir el código. Me permite ver donde estoy también en un código largo. Puedo verlo con ctrl + shift + O o bien en la esquina inferior izquierda del script. Separar códigos largos en varios códigos. Cada código debe tener un objetivo claro que debe explicar en una oración. Escribir códigos en bloques. Tres consejos básicos de estilo: utilizar _ para generar variables o bien otra convención. separar entre objetos y operaciones. 2.2.4.2 Condicionales y controladores de flujo Operadores básicos: rm(list=ls()) # Asignador a &lt;- 2 * 3 a ## [1] 6 a1 = 2 * 3 a1 ## [1] 6 # Nota: Nunca ocupar igual. # Igualdad TRUE == TRUE ## [1] TRUE TRUE == FALSE ## [1] FALSE # Nota: Para comparar elementos se utiliza doble igual &quot;==&quot;. # Desigualdad (!=) TRUE != FALSE ## [1] TRUE &quot;Hola&quot; != &quot;Chao&quot; ## [1] TRUE # Otros comparadores: &lt;, &gt; (&gt;=), (&lt;=) 3 &lt; 5 ## [1] TRUE 5 &gt; 8 ## [1] FALSE 5 &gt;= 5 ## [1] TRUE # Nota: No confundir con &lt;- que es para asignar. TRUE &gt; FALSE ## [1] TRUE # Noten que la respuesta en un logical. # En vectores y matrices vector1 &lt;- c(16,9,13) vector2 &lt;- c(10,12,15) # Comparar contra un escalar vector1 &gt; 10 ## [1] TRUE FALSE TRUE vector2 &lt; 10 ## [1] FALSE FALSE FALSE # Compararlos entre ellos vector1 &lt; vector2 ## [1] FALSE TRUE TRUE # Veamos en una matriz matrix &lt;- matrix(c(vector1, vector2), byrow = TRUE, nrow = 2) matrix ## [,1] [,2] [,3] ## [1,] 16 9 13 ## [2,] 10 12 15 matrix &gt; 10 ## [,1] [,2] [,3] ## [1,] TRUE FALSE TRUE ## [2,] FALSE TRUE TRUE Operador %in%: Un operador muy útil para comparar valores y para evaluar rápidamente si un valor está dentro de un vector o marco de datos. rm(list=ls()) v1 &lt;- 3 v2 &lt;- 101 t &lt;- c(1,2,3,4,5,6,7,8) # El valor v1 ¿se encuentra dentro de t? v1 %in% t ## [1] TRUE # Otro ejemplo.... mivector &lt;- c(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;) &quot;a&quot; %in% mivector ## [1] TRUE # Si no está en el vector da un FALSE &quot;h&quot; %in% mivector ## [1] FALSE # Si le quiero preguntar si NO está, coloco un signo de exclamación al frente. !&quot;a&quot; %in% mivector ## [1] FALSE # Un vector en otro vector a &lt;- seq(12, 19, 1) b &lt;- seq(1, 16, 1) # Veamos si los elementos de un vector &quot;largo&quot; están en uno &quot;corto&quot; b %in% a ## [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE TRUE TRUE TRUE TRUE TRUE # Esto va a ser muy útil cuando trabajemos con bases de datos. Operadores para seleccionar subconjuntos de datos: y &lt;- c(2,3,3,4,NA,8) y ## [1] 2 3 3 4 NA 8 # Vamos a seleccionar solo los que no son NA y1 &lt;- y[!is.na(y)] y1 ## [1] 2 3 3 4 8 # Noten que utilizamos la funcion is.NA y un operador (!). Más detalles en parte de análisis de datos, pero noten que la idea principal está aquí. Operadores lógicos: # Operador (&amp;): operador &quot;y&quot; TRUE &amp; TRUE ## [1] TRUE TRUE &amp; FALSE ## [1] FALSE FALSE &amp; TRUE ## [1] FALSE FALSE &amp; FALSE ## [1] FALSE # Ejemplo x &lt;- 12 x &gt; 5 &amp; x &lt; 11 ## [1] FALSE # Operador (|): operador &quot;o&quot;. Condiciones no excluyentes. TRUE | TRUE ## [1] TRUE TRUE | FALSE ## [1] TRUE FALSE | TRUE ## [1] TRUE FALSE | FALSE ## [1] FALSE # Ejemplo y &lt;- 4 y &lt; 5 | y &gt; 15 ## [1] TRUE # Operador de negación (!) !TRUE ## [1] FALSE !FALSE ## [1] TRUE # Combinarlo con funciones !is.numeric(5) ## [1] FALSE !is.numeric(&quot;Hello&quot;) ## [1] TRUE # Operadores con vectores c(TRUE, TRUE, FALSE) &amp; c(TRUE, FALSE, FALSE) ## [1] TRUE FALSE FALSE c(TRUE, TRUE, FALSE) | c(TRUE, FALSE, FALSE) ## [1] TRUE TRUE FALSE !c(TRUE,TRUE,FALSE) ## [1] FALSE FALSE TRUE # Si utilizo dos &quot;&amp;&amp;&quot; sólo compara el primer elemento del vector c(TRUE,FALSE,FALSE) || c(TRUE,FALSE,FALSE) ## [1] TRUE c(TRUE,FALSE,FALSE) &amp;&amp; c(TRUE,TRUE, TRUE) ## [1] TRUE 2.2.4.3 Condicionales If: x &lt;- 3 #if (condicion){ # cualquier cosa que quiero que se haga si la condición se cumple #} if (x &gt; 0) { print(&quot;x es número mayor que cero&quot;) } ## [1] &quot;x es número mayor que cero&quot; if (x &gt; 0){ print(&quot;x es un número mayor que cero &quot;) } ## [1] &quot;x es un número mayor que cero &quot; if (x &lt; 0){ print(&quot;x es un número menor que cero&quot;) } Else: x &lt;- 0 if (x &gt; 0){ print(&quot;x es un número positivo&quot;) } else{ print(&quot;x es un número negativo&quot;) } ## [1] &quot;x es un número negativo&quot; Elseif: x &lt;- 0 if (x &gt; 0){ print(&quot;x es mayor que cero&quot;) } else if (x == 0){ print(&quot;x es igual a cero&quot;) } else{ print(&quot;x es menor que cero&quot;) } ## [1] &quot;x es igual a cero&quot; # Importante: `(%%) corresponde al resto de una división` x &lt;- 6 if (x %% 2 == 0){ print(&quot;x es divisible por 2&quot;) } else if (x %% 3 == 0){ print(&quot;x es divisible por 3&quot;) } else { print(&quot;x no es divisible ni por 2 ni por 3&quot;) } ## [1] &quot;x es divisible por 2&quot; # Notar que si la primera condición se cumple, la segunda no se ejecuta aunque sea cierta. 2.2.4.4 Funciones Idea principal: \\(f(x) = 2x + 1\\), \\(x \\in R\\) \\(f(x) = &#39;hola&#39; + x\\), \\(x \\in (&#39;pepe&#39;, &#39;pepa&#39;, &#39;marta&#39;)\\) valores &lt;- c(1,2,3,4) mean(valores) ## [1] 2.5 Algunas cosas adicionales sobre funciones: n me permite ver los argumentos de una función, sin necesidad de ver la documentación. Útil a veces. # Escribir funciones con un argumento triple &lt;- function(x){ y &lt;- 3 * x return(y) } triple &lt;- function(x){ x/2 } triple(500) ## [1] 250 # Escribir funciones con mas de un argumento operacion &lt;- function(a,b){ a*b + a/b } operacion(4,2) ## [1] 10 # Escribir funciones fijando opción por defecto. operacion_defecto &lt;- function(a,b = 1){ a*b + a/b } operacion_defecto(4) ## [1] 8 operacion_defecto(4,0) ## [1] Inf # Escribir funciones utilizando if y return. operacion_condicionales &lt;- function(a,b = 1){ if (b == 0){ return(0) } a*b + a/b } operacion_condicionales(4,0) ## [1] 0 # Funciones con texto texto &lt;- function(){ print(&quot;Hola mundo!&quot;) return(TRUE) } texto() ## [1] &quot;Hola mundo!&quot; ## [1] TRUE # Funciones por defecto en ambos casos operacion_dosdefectos &lt;- function(a = 1,b = 1){ if (b == 0){ return(0) } a*b + a/b } operacion_dosdefectos() ## [1] 2 Ejercicio 2.2.2: Funciones Genere una función que sea igual a la división de dos elementos. Coloque un mensaje que indique cuando la división es indeterminada. Respuesta: operacion_indeterminada &lt;- function(a,b){ a/b if (b == 0){ print(&quot;Es indeterminado&quot;) } } operacion_indeterminada(1,0) ## [1] &quot;Es indeterminado&quot; "],["manipulación-de-bases-de-datos-parte-i.html", "2.3 Manipulación de bases de datos (Parte I)", " 2.3 Manipulación de bases de datos (Parte I) 2.3.1 Principios de programación 2.3.1.1 Iteradores For loop: # Imaginen que queremos mostrar los nombres de un vector de forma reiterada ciudades &lt;- c(&quot;Nueva York&quot;, &quot;Paris&quot;, &quot;Santiago&quot;, &quot;Rancagua&quot;) print(ciudades[1]) ## [1] &quot;Nueva York&quot; print(ciudades[2]) ## [1] &quot;Paris&quot; print(ciudades[3]) ## [1] &quot;Santiago&quot; print(ciudades[4]) ## [1] &quot;Rancagua&quot; # Lo anterior se puede hacer utilizando un iterador. for (i in 1:4){ print(ciudades[i]) } ## [1] &quot;Nueva York&quot; ## [1] &quot;Paris&quot; ## [1] &quot;Santiago&quot; ## [1] &quot;Rancagua&quot; # Utilizando variables ocultas... for (.j in 1:4){ print(ciudades[.j]) } ## [1] &quot;Nueva York&quot; ## [1] &quot;Paris&quot; ## [1] &quot;Santiago&quot; ## [1] &quot;Rancagua&quot; for (.j in 1:length(ciudades)){ print(ciudades[.j]) } ## [1] &quot;Nueva York&quot; ## [1] &quot;Paris&quot; ## [1] &quot;Santiago&quot; ## [1] &quot;Rancagua&quot; # o escrito señalando el nombre de cada elemento de un vector. for (ciudad in ciudades){ print(ciudad) } ## [1] &quot;Nueva York&quot; ## [1] &quot;Paris&quot; ## [1] &quot;Santiago&quot; ## [1] &quot;Rancagua&quot; # Otro ejemplo: semana &lt;- c(&quot;Domingo&quot;, &quot;Lunes&quot;, &quot;Martes&quot;, &quot;Miercoles&quot;, &quot;Jueves&quot;, &quot;Viernes&quot;, &quot;Sabado&quot;) for (dia in semana) { print(dia) } ## [1] &quot;Domingo&quot; ## [1] &quot;Lunes&quot; ## [1] &quot;Martes&quot; ## [1] &quot;Miercoles&quot; ## [1] &quot;Jueves&quot; ## [1] &quot;Viernes&quot; ## [1] &quot;Sabado&quot; For loop con opciones: ciudades &lt;- c(&quot;Nueva York&quot;, &quot;Paris&quot;, &quot;Santiago&quot;, &quot;Tokio&quot;) # Agregar opcion break: quiebra el loop for (ciudad in ciudades){ if(nchar(ciudad) == 8){ break } print(ciudad) } ## [1] &quot;Nueva York&quot; ## [1] &quot;Paris&quot; # Agregar Opción next: se salta ese elemento for (ciudad in ciudades){ if (nchar(ciudad) == 8){ next } print(ciudad) } ## [1] &quot;Nueva York&quot; ## [1] &quot;Paris&quot; ## [1] &quot;Tokio&quot; Flexibilizar el iterador: ciudades &lt;- c(&quot;Nueva York&quot;, &quot;Paris&quot;, &quot;Santiago&quot;, &quot;Tokio&quot;, &quot;Rancagua&quot;, &quot;Roma&quot;) # Ahora el tamaño del loop es flexible. Esto es muy inportante para cuando trabajemos con bases de datos. for (i in 1:length(ciudades)){ print(ciudades[i]) } ## [1] &quot;Nueva York&quot; ## [1] &quot;Paris&quot; ## [1] &quot;Santiago&quot; ## [1] &quot;Tokio&quot; ## [1] &quot;Rancagua&quot; ## [1] &quot;Roma&quot; # Noten que ahora llamo a los elementos dentro de un loop como subconjuntos de un vector. # En resumen, dos versiones de lo mismo for (i in 1:length(ciudades)){ print(ciudades[i]) } ## [1] &quot;Nueva York&quot; ## [1] &quot;Paris&quot; ## [1] &quot;Santiago&quot; ## [1] &quot;Tokio&quot; ## [1] &quot;Rancagua&quot; ## [1] &quot;Roma&quot; for (ciudad in ciudades){ print(ciudad) } ## [1] &quot;Nueva York&quot; ## [1] &quot;Paris&quot; ## [1] &quot;Santiago&quot; ## [1] &quot;Tokio&quot; ## [1] &quot;Rancagua&quot; ## [1] &quot;Roma&quot; # Ejemplo: para dejar mensajes for (i in 1:length(ciudades)){ print(paste(ciudades[i], &quot;esta en la posicion&quot;,i, &quot;en el vector ciudades&quot;)) } ## [1] &quot;Nueva York esta en la posicion 1 en el vector ciudades&quot; ## [1] &quot;Paris esta en la posicion 2 en el vector ciudades&quot; ## [1] &quot;Santiago esta en la posicion 3 en el vector ciudades&quot; ## [1] &quot;Tokio esta en la posicion 4 en el vector ciudades&quot; ## [1] &quot;Rancagua esta en la posicion 5 en el vector ciudades&quot; ## [1] &quot;Roma esta en la posicion 6 en el vector ciudades&quot; # Lo anterior es aplicable para inspecciones de bases de datos, por ejemplo, podemos dejar un mensaje for (i in 1:length(mtcars)){ print(paste(&quot;el promedio de la variable&quot;, names(mtcars[i]), &quot;es&quot;, mean(mtcars[,i]))) } ## [1] &quot;el promedio de la variable mpg es 20.090625&quot; ## [1] &quot;el promedio de la variable cyl es 6.1875&quot; ## [1] &quot;el promedio de la variable disp es 230.721875&quot; ## [1] &quot;el promedio de la variable hp es 146.6875&quot; ## [1] &quot;el promedio de la variable drat es 3.5965625&quot; ## [1] &quot;el promedio de la variable wt es 3.21725&quot; ## [1] &quot;el promedio de la variable qsec es 17.84875&quot; ## [1] &quot;el promedio de la variable vs es 0.4375&quot; ## [1] &quot;el promedio de la variable am es 0.40625&quot; ## [1] &quot;el promedio de la variable gear es 3.6875&quot; ## [1] &quot;el promedio de la variable carb es 2.8125&quot; While: mientras que… x &lt;- 1 while (x &lt;= 7){ print(paste(&quot;x es&quot;, x)) # Actualización x &lt;- x + 1 } ## [1] &quot;x es 1&quot; ## [1] &quot;x es 2&quot; ## [1] &quot;x es 3&quot; ## [1] &quot;x es 4&quot; ## [1] &quot;x es 5&quot; ## [1] &quot;x es 6&quot; ## [1] &quot;x es 7&quot; while (x &lt;= 700){ print(paste(&quot;x es&quot;, x)) # Actualizacion x &lt;- x + 1 } ## [1] &quot;x es 8&quot; ## [1] &quot;x es 9&quot; ## [1] &quot;x es 10&quot; ## [1] &quot;x es 11&quot; ## [1] &quot;x es 12&quot; ## [1] &quot;x es 13&quot; ## [1] &quot;x es 14&quot; ## [1] &quot;x es 15&quot; ## [1] &quot;x es 16&quot; ## [1] &quot;x es 17&quot; ## [1] &quot;x es 18&quot; ## [1] &quot;x es 19&quot; ## [1] &quot;x es 20&quot; ## [1] &quot;x es 21&quot; ## [1] &quot;x es 22&quot; ## [1] &quot;x es 23&quot; ## [1] &quot;x es 24&quot; ## [1] &quot;x es 25&quot; ## [1] &quot;x es 26&quot; ## [1] &quot;x es 27&quot; ## [1] &quot;x es 28&quot; ## [1] &quot;x es 29&quot; ## [1] &quot;x es 30&quot; ## [1] &quot;x es 31&quot; ## [1] &quot;x es 32&quot; ## [1] &quot;x es 33&quot; ## [1] &quot;x es 34&quot; ## [1] &quot;x es 35&quot; ## [1] &quot;x es 36&quot; ## [1] &quot;x es 37&quot; ## [1] &quot;x es 38&quot; ## [1] &quot;x es 39&quot; ## [1] &quot;x es 40&quot; ## [1] &quot;x es 41&quot; ## [1] &quot;x es 42&quot; ## [1] &quot;x es 43&quot; ## [1] &quot;x es 44&quot; ## [1] &quot;x es 45&quot; ## [1] &quot;x es 46&quot; ## [1] &quot;x es 47&quot; ## [1] &quot;x es 48&quot; ## [1] &quot;x es 49&quot; ## [1] &quot;x es 50&quot; ## [1] &quot;x es 51&quot; ## [1] &quot;x es 52&quot; ## [1] &quot;x es 53&quot; ## [1] &quot;x es 54&quot; ## [1] &quot;x es 55&quot; ## [1] &quot;x es 56&quot; ## [1] &quot;x es 57&quot; ## [1] &quot;x es 58&quot; ## [1] &quot;x es 59&quot; ## [1] &quot;x es 60&quot; ## [1] &quot;x es 61&quot; ## [1] &quot;x es 62&quot; ## [1] &quot;x es 63&quot; ## [1] &quot;x es 64&quot; ## [1] &quot;x es 65&quot; ## [1] &quot;x es 66&quot; ## [1] &quot;x es 67&quot; ## [1] &quot;x es 68&quot; ## [1] &quot;x es 69&quot; ## [1] &quot;x es 70&quot; ## [1] &quot;x es 71&quot; ## [1] &quot;x es 72&quot; ## [1] &quot;x es 73&quot; ## [1] &quot;x es 74&quot; ## [1] &quot;x es 75&quot; ## [1] &quot;x es 76&quot; ## [1] &quot;x es 77&quot; ## [1] &quot;x es 78&quot; ## [1] &quot;x es 79&quot; ## [1] &quot;x es 80&quot; ## [1] &quot;x es 81&quot; ## [1] &quot;x es 82&quot; ## [1] &quot;x es 83&quot; ## [1] &quot;x es 84&quot; ## [1] &quot;x es 85&quot; ## [1] &quot;x es 86&quot; ## [1] &quot;x es 87&quot; ## [1] &quot;x es 88&quot; ## [1] &quot;x es 89&quot; ## [1] &quot;x es 90&quot; ## [1] &quot;x es 91&quot; ## [1] &quot;x es 92&quot; ## [1] &quot;x es 93&quot; ## [1] &quot;x es 94&quot; ## [1] &quot;x es 95&quot; ## [1] &quot;x es 96&quot; ## [1] &quot;x es 97&quot; ## [1] &quot;x es 98&quot; ## [1] &quot;x es 99&quot; ## [1] &quot;x es 100&quot; ## [1] &quot;x es 101&quot; ## [1] &quot;x es 102&quot; ## [1] &quot;x es 103&quot; ## [1] &quot;x es 104&quot; ## [1] &quot;x es 105&quot; ## [1] &quot;x es 106&quot; ## [1] &quot;x es 107&quot; ## [1] &quot;x es 108&quot; ## [1] &quot;x es 109&quot; ## [1] &quot;x es 110&quot; ## [1] &quot;x es 111&quot; ## [1] &quot;x es 112&quot; ## [1] &quot;x es 113&quot; ## [1] &quot;x es 114&quot; ## [1] &quot;x es 115&quot; ## [1] &quot;x es 116&quot; ## [1] &quot;x es 117&quot; ## [1] &quot;x es 118&quot; ## [1] &quot;x es 119&quot; ## [1] &quot;x es 120&quot; ## [1] &quot;x es 121&quot; ## [1] &quot;x es 122&quot; ## [1] &quot;x es 123&quot; ## [1] &quot;x es 124&quot; ## [1] &quot;x es 125&quot; ## [1] &quot;x es 126&quot; ## [1] &quot;x es 127&quot; ## [1] &quot;x es 128&quot; ## [1] &quot;x es 129&quot; ## [1] &quot;x es 130&quot; ## [1] &quot;x es 131&quot; ## [1] &quot;x es 132&quot; ## [1] &quot;x es 133&quot; ## [1] &quot;x es 134&quot; ## [1] &quot;x es 135&quot; ## [1] &quot;x es 136&quot; ## [1] &quot;x es 137&quot; ## [1] &quot;x es 138&quot; ## [1] &quot;x es 139&quot; ## [1] &quot;x es 140&quot; ## [1] &quot;x es 141&quot; ## [1] &quot;x es 142&quot; ## [1] &quot;x es 143&quot; ## [1] &quot;x es 144&quot; ## [1] &quot;x es 145&quot; ## [1] &quot;x es 146&quot; ## [1] &quot;x es 147&quot; ## [1] &quot;x es 148&quot; ## [1] &quot;x es 149&quot; ## [1] &quot;x es 150&quot; ## [1] &quot;x es 151&quot; ## [1] &quot;x es 152&quot; ## [1] &quot;x es 153&quot; ## [1] &quot;x es 154&quot; ## [1] &quot;x es 155&quot; ## [1] &quot;x es 156&quot; ## [1] &quot;x es 157&quot; ## [1] &quot;x es 158&quot; ## [1] &quot;x es 159&quot; ## [1] &quot;x es 160&quot; ## [1] &quot;x es 161&quot; ## [1] &quot;x es 162&quot; ## [1] &quot;x es 163&quot; ## [1] &quot;x es 164&quot; ## [1] &quot;x es 165&quot; ## [1] &quot;x es 166&quot; ## [1] &quot;x es 167&quot; ## [1] &quot;x es 168&quot; ## [1] &quot;x es 169&quot; ## [1] &quot;x es 170&quot; ## [1] &quot;x es 171&quot; ## [1] &quot;x es 172&quot; ## [1] &quot;x es 173&quot; ## [1] &quot;x es 174&quot; ## [1] &quot;x es 175&quot; ## [1] &quot;x es 176&quot; ## [1] &quot;x es 177&quot; ## [1] &quot;x es 178&quot; ## [1] &quot;x es 179&quot; ## [1] &quot;x es 180&quot; ## [1] &quot;x es 181&quot; ## [1] &quot;x es 182&quot; ## [1] &quot;x es 183&quot; ## [1] &quot;x es 184&quot; ## [1] &quot;x es 185&quot; ## [1] &quot;x es 186&quot; ## [1] &quot;x es 187&quot; ## [1] &quot;x es 188&quot; ## [1] &quot;x es 189&quot; ## [1] &quot;x es 190&quot; ## [1] &quot;x es 191&quot; ## [1] &quot;x es 192&quot; ## [1] &quot;x es 193&quot; ## [1] &quot;x es 194&quot; ## [1] &quot;x es 195&quot; ## [1] &quot;x es 196&quot; ## [1] &quot;x es 197&quot; ## [1] &quot;x es 198&quot; ## [1] &quot;x es 199&quot; ## [1] &quot;x es 200&quot; ## [1] &quot;x es 201&quot; ## [1] &quot;x es 202&quot; ## [1] &quot;x es 203&quot; ## [1] &quot;x es 204&quot; ## [1] &quot;x es 205&quot; ## [1] &quot;x es 206&quot; ## [1] &quot;x es 207&quot; ## [1] &quot;x es 208&quot; ## [1] &quot;x es 209&quot; ## [1] &quot;x es 210&quot; ## [1] &quot;x es 211&quot; ## [1] &quot;x es 212&quot; ## [1] &quot;x es 213&quot; ## [1] &quot;x es 214&quot; ## [1] &quot;x es 215&quot; ## [1] &quot;x es 216&quot; ## [1] &quot;x es 217&quot; ## [1] &quot;x es 218&quot; ## [1] &quot;x es 219&quot; ## [1] &quot;x es 220&quot; ## [1] &quot;x es 221&quot; ## [1] &quot;x es 222&quot; ## [1] &quot;x es 223&quot; ## [1] &quot;x es 224&quot; ## [1] &quot;x es 225&quot; ## [1] &quot;x es 226&quot; ## [1] &quot;x es 227&quot; ## [1] &quot;x es 228&quot; ## [1] &quot;x es 229&quot; ## [1] &quot;x es 230&quot; ## [1] &quot;x es 231&quot; ## [1] &quot;x es 232&quot; ## [1] &quot;x es 233&quot; ## [1] &quot;x es 234&quot; ## [1] &quot;x es 235&quot; ## [1] &quot;x es 236&quot; ## [1] &quot;x es 237&quot; ## [1] &quot;x es 238&quot; ## [1] &quot;x es 239&quot; ## [1] &quot;x es 240&quot; ## [1] &quot;x es 241&quot; ## [1] &quot;x es 242&quot; ## [1] &quot;x es 243&quot; ## [1] &quot;x es 244&quot; ## [1] &quot;x es 245&quot; ## [1] &quot;x es 246&quot; ## [1] &quot;x es 247&quot; ## [1] &quot;x es 248&quot; ## [1] &quot;x es 249&quot; ## [1] &quot;x es 250&quot; ## [1] &quot;x es 251&quot; ## [1] &quot;x es 252&quot; ## [1] &quot;x es 253&quot; ## [1] &quot;x es 254&quot; ## [1] &quot;x es 255&quot; ## [1] &quot;x es 256&quot; ## [1] &quot;x es 257&quot; ## [1] &quot;x es 258&quot; ## [1] &quot;x es 259&quot; ## [1] &quot;x es 260&quot; ## [1] &quot;x es 261&quot; ## [1] &quot;x es 262&quot; ## [1] &quot;x es 263&quot; ## [1] &quot;x es 264&quot; ## [1] &quot;x es 265&quot; ## [1] &quot;x es 266&quot; ## [1] &quot;x es 267&quot; ## [1] &quot;x es 268&quot; ## [1] &quot;x es 269&quot; ## [1] &quot;x es 270&quot; ## [1] &quot;x es 271&quot; ## [1] &quot;x es 272&quot; ## [1] &quot;x es 273&quot; ## [1] &quot;x es 274&quot; ## [1] &quot;x es 275&quot; ## [1] &quot;x es 276&quot; ## [1] &quot;x es 277&quot; ## [1] &quot;x es 278&quot; ## [1] &quot;x es 279&quot; ## [1] &quot;x es 280&quot; ## [1] &quot;x es 281&quot; ## [1] &quot;x es 282&quot; ## [1] &quot;x es 283&quot; ## [1] &quot;x es 284&quot; ## [1] &quot;x es 285&quot; ## [1] &quot;x es 286&quot; ## [1] &quot;x es 287&quot; ## [1] &quot;x es 288&quot; ## [1] &quot;x es 289&quot; ## [1] &quot;x es 290&quot; ## [1] &quot;x es 291&quot; ## [1] &quot;x es 292&quot; ## [1] &quot;x es 293&quot; ## [1] &quot;x es 294&quot; ## [1] &quot;x es 295&quot; ## [1] &quot;x es 296&quot; ## [1] &quot;x es 297&quot; ## [1] &quot;x es 298&quot; ## [1] &quot;x es 299&quot; ## [1] &quot;x es 300&quot; ## [1] &quot;x es 301&quot; ## [1] &quot;x es 302&quot; ## [1] &quot;x es 303&quot; ## [1] &quot;x es 304&quot; ## [1] &quot;x es 305&quot; ## [1] &quot;x es 306&quot; ## [1] &quot;x es 307&quot; ## [1] &quot;x es 308&quot; ## [1] &quot;x es 309&quot; ## [1] &quot;x es 310&quot; ## [1] &quot;x es 311&quot; ## [1] &quot;x es 312&quot; ## [1] &quot;x es 313&quot; ## [1] &quot;x es 314&quot; ## [1] &quot;x es 315&quot; ## [1] &quot;x es 316&quot; ## [1] &quot;x es 317&quot; ## [1] &quot;x es 318&quot; ## [1] &quot;x es 319&quot; ## [1] &quot;x es 320&quot; ## [1] &quot;x es 321&quot; ## [1] &quot;x es 322&quot; ## [1] &quot;x es 323&quot; ## [1] &quot;x es 324&quot; ## [1] &quot;x es 325&quot; ## [1] &quot;x es 326&quot; ## [1] &quot;x es 327&quot; ## [1] &quot;x es 328&quot; ## [1] &quot;x es 329&quot; ## [1] &quot;x es 330&quot; ## [1] &quot;x es 331&quot; ## [1] &quot;x es 332&quot; ## [1] &quot;x es 333&quot; ## [1] &quot;x es 334&quot; ## [1] &quot;x es 335&quot; ## [1] &quot;x es 336&quot; ## [1] &quot;x es 337&quot; ## [1] &quot;x es 338&quot; ## [1] &quot;x es 339&quot; ## [1] &quot;x es 340&quot; ## [1] &quot;x es 341&quot; ## [1] &quot;x es 342&quot; ## [1] &quot;x es 343&quot; ## [1] &quot;x es 344&quot; ## [1] &quot;x es 345&quot; ## [1] &quot;x es 346&quot; ## [1] &quot;x es 347&quot; ## [1] &quot;x es 348&quot; ## [1] &quot;x es 349&quot; ## [1] &quot;x es 350&quot; ## [1] &quot;x es 351&quot; ## [1] &quot;x es 352&quot; ## [1] &quot;x es 353&quot; ## [1] &quot;x es 354&quot; ## [1] &quot;x es 355&quot; ## [1] &quot;x es 356&quot; ## [1] &quot;x es 357&quot; ## [1] &quot;x es 358&quot; ## [1] &quot;x es 359&quot; ## [1] &quot;x es 360&quot; ## [1] &quot;x es 361&quot; ## [1] &quot;x es 362&quot; ## [1] &quot;x es 363&quot; ## [1] &quot;x es 364&quot; ## [1] &quot;x es 365&quot; ## [1] &quot;x es 366&quot; ## [1] &quot;x es 367&quot; ## [1] &quot;x es 368&quot; ## [1] &quot;x es 369&quot; ## [1] &quot;x es 370&quot; ## [1] &quot;x es 371&quot; ## [1] &quot;x es 372&quot; ## [1] &quot;x es 373&quot; ## [1] &quot;x es 374&quot; ## [1] &quot;x es 375&quot; ## [1] &quot;x es 376&quot; ## [1] &quot;x es 377&quot; ## [1] &quot;x es 378&quot; ## [1] &quot;x es 379&quot; ## [1] &quot;x es 380&quot; ## [1] &quot;x es 381&quot; ## [1] &quot;x es 382&quot; ## [1] &quot;x es 383&quot; ## [1] &quot;x es 384&quot; ## [1] &quot;x es 385&quot; ## [1] &quot;x es 386&quot; ## [1] &quot;x es 387&quot; ## [1] &quot;x es 388&quot; ## [1] &quot;x es 389&quot; ## [1] &quot;x es 390&quot; ## [1] &quot;x es 391&quot; ## [1] &quot;x es 392&quot; ## [1] &quot;x es 393&quot; ## [1] &quot;x es 394&quot; ## [1] &quot;x es 395&quot; ## [1] &quot;x es 396&quot; ## [1] &quot;x es 397&quot; ## [1] &quot;x es 398&quot; ## [1] &quot;x es 399&quot; ## [1] &quot;x es 400&quot; ## [1] &quot;x es 401&quot; ## [1] &quot;x es 402&quot; ## [1] &quot;x es 403&quot; ## [1] &quot;x es 404&quot; ## [1] &quot;x es 405&quot; ## [1] &quot;x es 406&quot; ## [1] &quot;x es 407&quot; ## [1] &quot;x es 408&quot; ## [1] &quot;x es 409&quot; ## [1] &quot;x es 410&quot; ## [1] &quot;x es 411&quot; ## [1] &quot;x es 412&quot; ## [1] &quot;x es 413&quot; ## [1] &quot;x es 414&quot; ## [1] &quot;x es 415&quot; ## [1] &quot;x es 416&quot; ## [1] &quot;x es 417&quot; ## [1] &quot;x es 418&quot; ## [1] &quot;x es 419&quot; ## [1] &quot;x es 420&quot; ## [1] &quot;x es 421&quot; ## [1] &quot;x es 422&quot; ## [1] &quot;x es 423&quot; ## [1] &quot;x es 424&quot; ## [1] &quot;x es 425&quot; ## [1] &quot;x es 426&quot; ## [1] &quot;x es 427&quot; ## [1] &quot;x es 428&quot; ## [1] &quot;x es 429&quot; ## [1] &quot;x es 430&quot; ## [1] &quot;x es 431&quot; ## [1] &quot;x es 432&quot; ## [1] &quot;x es 433&quot; ## [1] &quot;x es 434&quot; ## [1] &quot;x es 435&quot; ## [1] &quot;x es 436&quot; ## [1] &quot;x es 437&quot; ## [1] &quot;x es 438&quot; ## [1] &quot;x es 439&quot; ## [1] &quot;x es 440&quot; ## [1] &quot;x es 441&quot; ## [1] &quot;x es 442&quot; ## [1] &quot;x es 443&quot; ## [1] &quot;x es 444&quot; ## [1] &quot;x es 445&quot; ## [1] &quot;x es 446&quot; ## [1] &quot;x es 447&quot; ## [1] &quot;x es 448&quot; ## [1] &quot;x es 449&quot; ## [1] &quot;x es 450&quot; ## [1] &quot;x es 451&quot; ## [1] &quot;x es 452&quot; ## [1] &quot;x es 453&quot; ## [1] &quot;x es 454&quot; ## [1] &quot;x es 455&quot; ## [1] &quot;x es 456&quot; ## [1] &quot;x es 457&quot; ## [1] &quot;x es 458&quot; ## [1] &quot;x es 459&quot; ## [1] &quot;x es 460&quot; ## [1] &quot;x es 461&quot; ## [1] &quot;x es 462&quot; ## [1] &quot;x es 463&quot; ## [1] &quot;x es 464&quot; ## [1] &quot;x es 465&quot; ## [1] &quot;x es 466&quot; ## [1] &quot;x es 467&quot; ## [1] &quot;x es 468&quot; ## [1] &quot;x es 469&quot; ## [1] &quot;x es 470&quot; ## [1] &quot;x es 471&quot; ## [1] &quot;x es 472&quot; ## [1] &quot;x es 473&quot; ## [1] &quot;x es 474&quot; ## [1] &quot;x es 475&quot; ## [1] &quot;x es 476&quot; ## [1] &quot;x es 477&quot; ## [1] &quot;x es 478&quot; ## [1] &quot;x es 479&quot; ## [1] &quot;x es 480&quot; ## [1] &quot;x es 481&quot; ## [1] &quot;x es 482&quot; ## [1] &quot;x es 483&quot; ## [1] &quot;x es 484&quot; ## [1] &quot;x es 485&quot; ## [1] &quot;x es 486&quot; ## [1] &quot;x es 487&quot; ## [1] &quot;x es 488&quot; ## [1] &quot;x es 489&quot; ## [1] &quot;x es 490&quot; ## [1] &quot;x es 491&quot; ## [1] &quot;x es 492&quot; ## [1] &quot;x es 493&quot; ## [1] &quot;x es 494&quot; ## [1] &quot;x es 495&quot; ## [1] &quot;x es 496&quot; ## [1] &quot;x es 497&quot; ## [1] &quot;x es 498&quot; ## [1] &quot;x es 499&quot; ## [1] &quot;x es 500&quot; ## [1] &quot;x es 501&quot; ## [1] &quot;x es 502&quot; ## [1] &quot;x es 503&quot; ## [1] &quot;x es 504&quot; ## [1] &quot;x es 505&quot; ## [1] &quot;x es 506&quot; ## [1] &quot;x es 507&quot; ## [1] &quot;x es 508&quot; ## [1] &quot;x es 509&quot; ## [1] &quot;x es 510&quot; ## [1] &quot;x es 511&quot; ## [1] &quot;x es 512&quot; ## [1] &quot;x es 513&quot; ## [1] &quot;x es 514&quot; ## [1] &quot;x es 515&quot; ## [1] &quot;x es 516&quot; ## [1] &quot;x es 517&quot; ## [1] &quot;x es 518&quot; ## [1] &quot;x es 519&quot; ## [1] &quot;x es 520&quot; ## [1] &quot;x es 521&quot; ## [1] &quot;x es 522&quot; ## [1] &quot;x es 523&quot; ## [1] &quot;x es 524&quot; ## [1] &quot;x es 525&quot; ## [1] &quot;x es 526&quot; ## [1] &quot;x es 527&quot; ## [1] &quot;x es 528&quot; ## [1] &quot;x es 529&quot; ## [1] &quot;x es 530&quot; ## [1] &quot;x es 531&quot; ## [1] &quot;x es 532&quot; ## [1] &quot;x es 533&quot; ## [1] &quot;x es 534&quot; ## [1] &quot;x es 535&quot; ## [1] &quot;x es 536&quot; ## [1] &quot;x es 537&quot; ## [1] &quot;x es 538&quot; ## [1] &quot;x es 539&quot; ## [1] &quot;x es 540&quot; ## [1] &quot;x es 541&quot; ## [1] &quot;x es 542&quot; ## [1] &quot;x es 543&quot; ## [1] &quot;x es 544&quot; ## [1] &quot;x es 545&quot; ## [1] &quot;x es 546&quot; ## [1] &quot;x es 547&quot; ## [1] &quot;x es 548&quot; ## [1] &quot;x es 549&quot; ## [1] &quot;x es 550&quot; ## [1] &quot;x es 551&quot; ## [1] &quot;x es 552&quot; ## [1] &quot;x es 553&quot; ## [1] &quot;x es 554&quot; ## [1] &quot;x es 555&quot; ## [1] &quot;x es 556&quot; ## [1] &quot;x es 557&quot; ## [1] &quot;x es 558&quot; ## [1] &quot;x es 559&quot; ## [1] &quot;x es 560&quot; ## [1] &quot;x es 561&quot; ## [1] &quot;x es 562&quot; ## [1] &quot;x es 563&quot; ## [1] &quot;x es 564&quot; ## [1] &quot;x es 565&quot; ## [1] &quot;x es 566&quot; ## [1] &quot;x es 567&quot; ## [1] &quot;x es 568&quot; ## [1] &quot;x es 569&quot; ## [1] &quot;x es 570&quot; ## [1] &quot;x es 571&quot; ## [1] &quot;x es 572&quot; ## [1] &quot;x es 573&quot; ## [1] &quot;x es 574&quot; ## [1] &quot;x es 575&quot; ## [1] &quot;x es 576&quot; ## [1] &quot;x es 577&quot; ## [1] &quot;x es 578&quot; ## [1] &quot;x es 579&quot; ## [1] &quot;x es 580&quot; ## [1] &quot;x es 581&quot; ## [1] &quot;x es 582&quot; ## [1] &quot;x es 583&quot; ## [1] &quot;x es 584&quot; ## [1] &quot;x es 585&quot; ## [1] &quot;x es 586&quot; ## [1] &quot;x es 587&quot; ## [1] &quot;x es 588&quot; ## [1] &quot;x es 589&quot; ## [1] &quot;x es 590&quot; ## [1] &quot;x es 591&quot; ## [1] &quot;x es 592&quot; ## [1] &quot;x es 593&quot; ## [1] &quot;x es 594&quot; ## [1] &quot;x es 595&quot; ## [1] &quot;x es 596&quot; ## [1] &quot;x es 597&quot; ## [1] &quot;x es 598&quot; ## [1] &quot;x es 599&quot; ## [1] &quot;x es 600&quot; ## [1] &quot;x es 601&quot; ## [1] &quot;x es 602&quot; ## [1] &quot;x es 603&quot; ## [1] &quot;x es 604&quot; ## [1] &quot;x es 605&quot; ## [1] &quot;x es 606&quot; ## [1] &quot;x es 607&quot; ## [1] &quot;x es 608&quot; ## [1] &quot;x es 609&quot; ## [1] &quot;x es 610&quot; ## [1] &quot;x es 611&quot; ## [1] &quot;x es 612&quot; ## [1] &quot;x es 613&quot; ## [1] &quot;x es 614&quot; ## [1] &quot;x es 615&quot; ## [1] &quot;x es 616&quot; ## [1] &quot;x es 617&quot; ## [1] &quot;x es 618&quot; ## [1] &quot;x es 619&quot; ## [1] &quot;x es 620&quot; ## [1] &quot;x es 621&quot; ## [1] &quot;x es 622&quot; ## [1] &quot;x es 623&quot; ## [1] &quot;x es 624&quot; ## [1] &quot;x es 625&quot; ## [1] &quot;x es 626&quot; ## [1] &quot;x es 627&quot; ## [1] &quot;x es 628&quot; ## [1] &quot;x es 629&quot; ## [1] &quot;x es 630&quot; ## [1] &quot;x es 631&quot; ## [1] &quot;x es 632&quot; ## [1] &quot;x es 633&quot; ## [1] &quot;x es 634&quot; ## [1] &quot;x es 635&quot; ## [1] &quot;x es 636&quot; ## [1] &quot;x es 637&quot; ## [1] &quot;x es 638&quot; ## [1] &quot;x es 639&quot; ## [1] &quot;x es 640&quot; ## [1] &quot;x es 641&quot; ## [1] &quot;x es 642&quot; ## [1] &quot;x es 643&quot; ## [1] &quot;x es 644&quot; ## [1] &quot;x es 645&quot; ## [1] &quot;x es 646&quot; ## [1] &quot;x es 647&quot; ## [1] &quot;x es 648&quot; ## [1] &quot;x es 649&quot; ## [1] &quot;x es 650&quot; ## [1] &quot;x es 651&quot; ## [1] &quot;x es 652&quot; ## [1] &quot;x es 653&quot; ## [1] &quot;x es 654&quot; ## [1] &quot;x es 655&quot; ## [1] &quot;x es 656&quot; ## [1] &quot;x es 657&quot; ## [1] &quot;x es 658&quot; ## [1] &quot;x es 659&quot; ## [1] &quot;x es 660&quot; ## [1] &quot;x es 661&quot; ## [1] &quot;x es 662&quot; ## [1] &quot;x es 663&quot; ## [1] &quot;x es 664&quot; ## [1] &quot;x es 665&quot; ## [1] &quot;x es 666&quot; ## [1] &quot;x es 667&quot; ## [1] &quot;x es 668&quot; ## [1] &quot;x es 669&quot; ## [1] &quot;x es 670&quot; ## [1] &quot;x es 671&quot; ## [1] &quot;x es 672&quot; ## [1] &quot;x es 673&quot; ## [1] &quot;x es 674&quot; ## [1] &quot;x es 675&quot; ## [1] &quot;x es 676&quot; ## [1] &quot;x es 677&quot; ## [1] &quot;x es 678&quot; ## [1] &quot;x es 679&quot; ## [1] &quot;x es 680&quot; ## [1] &quot;x es 681&quot; ## [1] &quot;x es 682&quot; ## [1] &quot;x es 683&quot; ## [1] &quot;x es 684&quot; ## [1] &quot;x es 685&quot; ## [1] &quot;x es 686&quot; ## [1] &quot;x es 687&quot; ## [1] &quot;x es 688&quot; ## [1] &quot;x es 689&quot; ## [1] &quot;x es 690&quot; ## [1] &quot;x es 691&quot; ## [1] &quot;x es 692&quot; ## [1] &quot;x es 693&quot; ## [1] &quot;x es 694&quot; ## [1] &quot;x es 695&quot; ## [1] &quot;x es 696&quot; ## [1] &quot;x es 697&quot; ## [1] &quot;x es 698&quot; ## [1] &quot;x es 699&quot; ## [1] &quot;x es 700&quot; # Muy importante la actualización. 2.3.1.2 Lapply, Sapply y Vapply Lapply: nyc &lt;- list(poblacion = 8405837, barrios = c(&quot;Manhattan&quot;, &quot;Bronx&quot;, &quot;Brooklyn&quot;, &quot;Queens&quot;, &quot;Staten Island&quot;)) nyc ## $poblacion ## [1] 8405837 ## ## $barrios ## [1] &quot;Manhattan&quot; &quot;Bronx&quot; &quot;Brooklyn&quot; &quot;Queens&quot; &quot;Staten Island&quot; Equivalencia loop y lapply. Quiero saber todas las clases de la lista: # Puedo hacer esto con un loop for (objeto in nyc){ print(class(objeto)) } ## [1] &quot;numeric&quot; ## [1] &quot;character&quot; for (i in 1:length(nyc)){ print(class(nyc[[i]])) } ## [1] &quot;numeric&quot; ## [1] &quot;character&quot; # Pero, si utilizo `lapply()` puedo hacerlo mucho más eficiente. # Lapply: que aplica esto como si fuese un `for`. lapply(nyc,class) ## $poblacion ## [1] &quot;numeric&quot; ## ## $barrios ## [1] &quot;character&quot; Resultado de lapply con vector: # Lapply ejecuta la función, en este caso class, para todo elemento del objeto, en este caso nyc. # Si quiero saber el número de carácteres cities &lt;- c(&quot;New york&quot;,&quot;Paris&quot;, &quot;Tokyo&quot;, &quot; Rio de Janeiro&quot;) lapply(cities,nchar) ## [[1]] ## [1] 8 ## ## [[2]] ## [1] 5 ## ## [[3]] ## [1] 5 ## ## [[4]] ## [1] 15 class(lapply(cities,nchar)) ## [1] &quot;list&quot; # Noten que el resultado aquí es una lista. Si quiero que sea un vector, puedo utilizar la función `unlist()`. unlist(lapply(cities,nchar)) ## [1] 8 5 5 15 class(unlist(lapply(cities,nchar))) ## [1] &quot;integer&quot; Lapply como función: precios &lt;- list(2.25, 2.18, 2.89, 2.84, 2.89) # Creamos una función multiplicar &lt;- function(x,factor){ x * factor } # Ahora, podemos aplicar lapply y agregar opciones de la función tresveces &lt;- lapply(precios, multiplicar, factor = 3) tresveces &lt;- unlist(tresveces) # Noten que la sintaxis es: objeto, función, opciones. Es decir, igual a lo anterior, pero pudiendo agregar opcionales. Sapply: Es una variacion de lapply que sirve para simplificar lapply. Ahora el resultado es un vector, no una lista. cities &lt;- c(&quot;New york&quot;,&quot;Paris&quot;, &quot;Tokyo&quot;, &quot; Rio de Janeiro&quot;) lapply(cities,nchar) ## [[1]] ## [1] 8 ## ## [[2]] ## [1] 5 ## ## [[3]] ## [1] 5 ## ## [[4]] ## [1] 15 sapply(cities,nchar) ## New york Paris Tokyo Rio de Janeiro ## 8 5 5 15 # Noten que es bastante ordenado. Sin embargo, falla cuando no es fácil ordenar el resultado. Vapply: Es una variación que sirve para definir explícitamente el tipo de objeto del resultado. vapply(cities, nchar, numeric(1)) ## New york Paris Tokyo Rio de Janeiro ## 8 5 5 15 "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
